<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--namespace=绑定一个对应的Dao/Mapper接口-->
<mapper namespace="com.chy.mapper.TeacherMapper">

    <!--
        期望，非自增长的主键，交给mybatis帮助我们维护！
    -->
    <!--int insertTeacher(Teacher teacher);-->
    <insert id="insertTeacher">
        <!--
            插入之前 先指定一段sql语句，生成一个主键值！
            order="BEFORE|AFTER" sql语句是在插入语句之前还是之后执行！
            resultType = 返回值类型
            keyProperty = 查询结果给哪个属性赋值

        -->
        <selectKey order="BEFORE" resultType="string" keyProperty="tId">
            SELECT REPLACE(UUID(),"-","");

        </selectKey>
        INSERT INTO teacher (t_id,t_name) VALUES(#{tId},#{tName});
    </insert>

</mapper>